(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{689:function(e,t,a){Promise.resolve().then(a.bind(a,901))},901:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return M}});var r=a(7437),n=a(2265),i=a(4925),l=a(8549),d=a(6065),s=a(2054),o=a(1656),c=a(6154),u=a(7048);let h=[{field:"created_dt",headerName:"Created Date",width:200},{field:"data_source_modified_dt",headerName:"Modified Date",width:200},{field:"entity_type",headerName:"Entity",width:150},{field:"record_status",headerName:"Operating Status",width:150},{field:"legal_name",headerName:"Legal Name",width:150},{field:"dba_name",headerName:"DBA Name",width:150},{field:"physical_address",headerName:"Physical Address",width:200},{field:"phone",headerName:"Phone",width:150},{field:"usdot_number",headerName:"DOT",width:150},{field:"power_units",headerName:"Power Units",width:150},{field:"mcs_150_form_date",headerName:"Out of Service Date",width:200}],f=(0,c.Z)(i._)({"& .MuiDataGrid-columnHeaders":{backgroundColor:"#f0f0f0",fontSize:"16px",fontWeight:"bold"},"& .MuiDataGrid-row":{"&:nth-of-type(odd)":{backgroundColor:"#f9f9f9"}}});var x=e=>{let{data:t}=e,[a,i]=n.useState("none"),c=e=>{i(e.target.value)},x=n.useMemo(()=>"none"===a?t:t.reduce((e,t)=>{let r;let n=new Date(t.created_dt);switch(a){case"month":r="".concat(n.getFullYear(),"-").concat(String(n.getMonth()+1).padStart(2,"0"));break;case"week":let i=Math.ceil((n.getDate()-1-n.getDay())/7)+1;r="".concat(n.getFullYear(),"-W").concat(String(i).padStart(2,"0"));break;case"year":r=n.getFullYear().toString();break;default:r="none"}return e[r]||(e[r]=[]),e[r].push(t),e},{}),[t,a]),m=n.useMemo(()=>"none"===a?t:Object.values(x).flat().map((e,t)=>({row:e,id:t})),[x,a,t]);return(0,r.jsxs)("div",{style:{height:900,width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,r.jsx)(u.Z,{display:"flex",justifyContent:"center",mt:2,sx:{"@media (max-width: 600px)":{flexDirection:"column",alignItems:"center"}},children:(0,r.jsxs)(l.Z,{variant:"outlined",sx:{marginBottom:"1rem",width:"200px"},children:[(0,r.jsx)(d.Z,{children:"Group By"}),(0,r.jsxs)(s.Z,{value:a,onChange:()=>c,label:"Group By",children:[(0,r.jsx)(o.Z,{value:"none",children:"None"}),(0,r.jsx)(o.Z,{value:"month",children:"Month"}),(0,r.jsx)(o.Z,{value:"week",children:"Week"}),(0,r.jsx)(o.Z,{value:"year",children:"Year"})]})]})}),(0,r.jsx)(f,{rows:m,columns:h,pagination:!0,sortingOrder:["asc","desc"],sx:{width:"99%","@media (max-width: 600px)":{"& .MuiDataGrid-cell":{padding:"8px"},"& .MuiDataGrid-columnHeaders":{fontSize:"14px"}}}})]})},m=a(1193),g=a(3983),j=a(335),p=a(7699),w=e=>{let{onSearch:t}=e,[a,i]=(0,n.useState)(""),l=()=>{t(a)};return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(m.Z,{display:"flex",alignItems:"center",justifyContent:"center",mt:5,sx:{"@media (max-width: 600px)":{flexDirection:"column",alignItems:"center"}},children:[(0,r.jsx)(g.Z,{variant:"outlined",size:"small",sx:{width:700,border:2,borderRadius:"5px",borderColor:"#ffffff","@media (max-width: 600px)":{width:"90%",display:"flex",justifyContent:"center"}},placeholder:"Search...",value:a,onChange:e=>i(e.target.value),onKeyPress:e=>"Enter"===e.key&&l()}),(0,r.jsx)(j.Z,{sx:{position:"relative",right:50,"@media (max-width: 600px)":{display:"none"}},onClick:l,children:(0,r.jsx)(p.Z,{sx:{color:"#a2cfc2"}})})]})})},y=a(7818);a(3959);let b=(0,y.default)(()=>a.e(37).then(a.bind(a,3037)),{loadableGenerated:{webpack:()=>[3037]},ssr:!1});var _=e=>{let{data:t}=e,[a,i]=(0,n.useState)({rows:["created_dt"],cols:["data_source_modified_dt"],aggregatorName:"Sum",vals:[],rendererName:"Table"});return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(b,{data:t,onChange:e=>i(e),...a})})},S=a(4908),v=a(468),C=a(4583),Z=()=>{let[e,t]=(0,n.useState)(!1),[a,i]=(0,n.useState)(!1);return(0,r.jsx)(S.Z,{control:a?(0,r.jsx)(v.Z,{size:20,sx:{color:"#ffffff"}}):(0,r.jsx)(C.Z,{checked:e,onChange:()=>{a&&i(!1),t(e=>!e),i(!0),setTimeout(()=>{i(!1)},1e3)},color:"primary"}),label:e?"Pivot Table":"Data Table"})},N=()=>{let e=new Date().getFullYear();return(0,r.jsx)("footer",{style:{marginTop:30,marginBottom:20,display:"flex",justifyContent:"center"},children:(0,r.jsxs)("p",{style:{color:"#627e76",fontWeight:"bold"},children:["\xa9 ",e," Ant\xf4nio Fernando. All rights reserved."]})})};let k=async e=>{try{let t=await fetch(e);if(!t.ok)throw Error("Failed to fetch file: ".concat(t.statusText));let a=await t.json();return console.log("Data loaded successfully:",a),a}catch(e){return console.error("Error loading data:",e),[]}};var D=a(511);function M(){let[e,t]=(0,n.useState)([]),[a,i]=(0,n.useState)([]),[l,d]=(0,n.useState)("table"),[s,o]=(0,n.useState)(!0);return(0,n.useEffect)(()=>((async()=>{let e=await k("/database/data.json");o(!1);let a=(e["FMSCA_records (2)"]||[]).map((e,t)=>({id:e.id||t,...e}));t(a),i(a)})(),()=>{o(!0)}),[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(D.Z,{fontSize:30,fontWeight:"bold",sx:{color:"#6d8a82",textShadow:"0 2px 0 0 #ffffff"},textAlign:"center",mt:2,children:"FMCSA Viewer"}),(0,r.jsx)(w,{onSearch:t=>{i(e.filter(e=>Object.values(e).some(e=>e.toString().toLowerCase().includes(t.toLowerCase()))))}}),(0,r.jsx)(m.Z,{display:"flex",justifyContent:"center",mt:2,onClick:()=>d("table"===l?"pivot":"table"),children:(0,r.jsx)(Z,{})}),"table"===l?s?(0,r.jsx)(m.Z,{display:"flex",justifyContent:"center",mt:5,children:(0,r.jsx)(v.Z,{})}):(0,r.jsx)(x,{data:a}):s?(0,r.jsx)(m.Z,{display:"flex",justifyContent:"center",mt:5,children:(0,r.jsx)(v.Z,{})}):(0,r.jsx)(_,{data:a}),(0,r.jsx)(N,{})]})}}},function(e){e.O(0,[233,736,447,971,23,744],function(){return e(e.s=689)}),_N_E=e.O()}]);